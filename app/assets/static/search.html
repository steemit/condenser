<html lang="en">

<head>
    <meta charSet="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/ico" href="/favicon.ico" />
    <title>Search - steemit.com</title>
    <!-- CSS Frameworks -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.2.1/foundation-flex.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
    <!-- Additional Styles -->
    <style>
        html {
            font-size: 105%;
            box-sizing: border-box;
        }

        body {
            font-family: "Source Sans Pro", "Helvetica Neue", Helvetica, Arial, sans-serif;
            line-height: 1.6;
        }

        div.top-bar {
            padding: 0;
        }

        .top-bar div.row {
            margin-left: 0;
        }

        a {
            color: #1a5099 !important;
        }

        table {
            border-collapse: inherit;
        }

        table tbody td,
        table tbody th {
            padding: inherit;
        }

        .header {
            border-bottom: 1px solid #e6e6e6;
            position: fixed;
            backface-visibility: hidden;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 100;
            background-color: #fefefe;
        }

        .top-bar,
        .top-bar ul {
            background-color: #fefefe;
        }

        .menu li {
            display: list-item;
            padding: 0;
        }

        .menu li>a {
            display: flex;
            line-height: 1.5rem;
            font-size: 1.1rem;
            padding: 0.7rem 1rem;
        }

        .menu li.logo {
            padding: .35rem 0 .35rem 0;
        }

        .menu li.logo>a {
            padding: 0;
        }

        .beta {
            position: relative;
            top: 14px;
            right: 22px;
            font-size: 0.7rem;
            color: #4ba2f2;
        }

        .Icon_2x>svg {
            height: 2rem;
            width: 2rem;
        }

        div.search-content {
            margin-top: 2rem;
        }
        /* Search CSS */
        #search {
            width: 100%;
            margin: 0;
            border-width: 0px;
            padding-bottom: 6px;
            border-bottom: 1px solid #1a5099;
        }

        #search:hover,
        #search:focus {
            border-bottom-width: 3px;
        }

        #results h4 {
            font-weight: bold;
        }

        #results #item {
            padding: 2%;
            border-radius: 3px;
        }

        .ui-autocomplete {
          position: inherit !important;
        }

        /* branding */
        #branding {
          position: absolute;
          right: 0px;
          padding-right: 10px;
        }
    </style>
</head>

<body>
    <div class="top-bar header">
        <div class="expanded row">
            <div class="columns">
                <ul class="menu">
                    <li class="logo">
                        <a href="/">
                          <span class="Icon steem Icon_2x" style="display: inline-block; width: 2rem; height: 2rem;">
                              <svg viewBox="0 0 28 29" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="steem"><path d="M4.22924444,3.23195745 C3.94488889,3.09004255 0.337866667,6.07148936 0.337866667,8.265 C0.332888889,11.2631064 4.54533333,18.0552766 5.25466667,20.6825532 C5.86506667,22.9359149 4.21928889,25.6403191 4.67164444,25.7631064 C5.0848,26.0284255 9.01475556,22.0486383 9.16782222,20.3518298 C9.36506667,17.6498936 4.57893333,9.77114894 4.19751111,7.73682979 C3.75511111,5.36253191 4.54782222,3.28502128 4.22924444,3.23195745 L4.22924444,3.23195745 L4.22924444,3.23195745 Z" id="Fill-1" fill="#1A5099"></path><path d="M13.2321778,0.130191489 C12.8700444,-0.0505957447 8.26871111,3.74778723 8.26871111,6.54844681 C8.26373333,10.3715106 13.6353778,19.0338723 14.5394667,22.3812128 C15.3172444,25.2546809 13.2197333,28.7038298 13.7934222,28.8580851 C14.3235556,29.1949787 19.3324444,24.1242979 19.5296889,21.9573191 C19.7823111,18.5131064 13.6764444,8.46738298 13.1904889,5.86910638 C12.6267556,2.84878723 13.6353778,0.197446809 13.2321778,0.130191489 L13.2321778,0.130191489 L13.2321778,0.130191489 Z" id="Fill-2" fill="#4BA2F2"></path><path d="M22.5238222,3.23195745 C22.2419556,3.09004255 18.6324444,6.07148936 18.6324444,8.265 C18.6280889,11.2631064 22.8399111,18.0552766 23.5498667,20.6825532 C24.1596444,22.9359149 22.5144889,25.6403191 22.9662222,25.7631064 C23.3818667,26.0284255 27.3124444,22.0486383 27.4630222,20.3518298 C27.6596444,17.6498936 22.8741333,9.77114894 22.4920889,7.73682979 C22.0503111,5.36253191 22.8424,3.28502128 22.5238222,3.23195745 L22.5238222,3.23195745 Z" id="Fill-3" fill="#1A5099"></path></g></g></svg>
                          </span></a>
                    </li>
                    <li class="steemit"><a href="/">steemit<span class="beta">beta</span></a></li>
                </ul>
            </div>
        </div>
    </div>
    <div id="cssload-pgloading" style="display:none">
        <div class="cssload-loadingwrap">
            <ul class="cssload-bokeh">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
    </div>

    <div class="container">
        <br /><br /><br /><br /><br />
        <div class="row">
            <form class="col-sm-12" id="search-form">
              <div class="form-group">
                <input type="search" placeholder="Search..." id="search" autofocus="on" autocomplete="off">
              </div>
              <button type="submit" class="btn btn-primary">Search</button>
              <!-- Attribution Required by API Terms of Use -->
              <!-- https://steemit.com/@thekyle/asksteem-search-api-docs -->
              <a href="https://www.asksteem.com" id="branding">
                <img src="https://cdn.hoxly.com/asksteem/attribution.png" width="100px">
              </a>
            </form>
        </div>
        <div class="row">
            <div id="results">
              <!-- <div id='item'>
                <span style='font-size:1.3em;'><a href='https://steemit.com/@" + result["results"][i]["author"] +
                  "/" + result["results"][i]["permlink"] + "'>" + result["results"][i]["title"] + "</a></span><br />
                <span style='color:#016c01;'>https://steemit.com/@" + result["results"][i]["author"] +
                  "/" + result["results"][i]["permlink"] + "</span>
                <br />
                <span>" + result["results"][i]["summary"] + "</span>
                <br />
                <span><i class='fa fa-chevron-circle-up' aria-hidden='true'></i> " + result["results"][i]["net_votes"] + " Votes</span> |
                <span><i class='fa fa-comments' aria-hidden='true'></i> " + result["results"][i]["children"] + " Comments</span> |
                <span><i class='fa fa-user' aria-hidden='true'></i> by <a href='https://steemit.com/@" + result["results"][i]["author"] + "'>" + result["results"][i]["author"] + "</a></span>
                <br />
              </div> -->
            </div><br/><br />
            <div class="action" style="display:none">
                <button id="prev" disabled class="btn btn-primary action-btn">Previous</button>
                <button id="next" disabled class="btn btn-primary action-btn">Next</button>
            </div><br/>
        </div>
    </div>

    <script>
        var pg = 1;
        // Handle init search requests
        $("#search-form").submit(function() {
            pg = 1;
            $("#cssload-pgloading").css("display", "block");
            $.ajax({
                url: "https://api.asksteem.com/search?q=" + $('#search').val(),
                success: function(result) {
                    $("#cssload-pgloading").css("display", "none");
                    $(".action").css("display", "block");
                    $('[id="prev"]').attr("disabled", !result["pages"]["has_previous"]);
                    $('[id="next"]').attr("disabled", !result["pages"]["has_next"]);
                    var results = document.getElementById("results");
                    results.innerHTML = "";
                    for (var i = 0; i < result["results"].length; i++) {
                        results.innerHTML += "<div id='item'> <span style='font-size:1.3em;'><a href='https://steemit.com/@" + result["results"][i]["author"] + "/" + result["results"][i]["permlink"] + "'>" + result["results"][i]["title"] + "</a></span><br/> <span style='color:#016c01;'>https://steemit.com/@" + result["results"][i]["author"] + "/" + result["results"][i]["permlink"] + "</span> <br/> <span>" + result["results"][i]["summary"] + "</span> <br/> <span><i class='fa fa-chevron-circle-up' aria-hidden='true'></i> " + result["results"][i]["net_votes"] + " Votes</span> | <span><i class='fa fa-comments' aria-hidden='true'></i> " + result["results"][i]["children"] + " Comments</span> | <span><i class='fa fa-user' aria-hidden='true'></i> by <a href='https://steemit.com/@" + result["results"][i]["author"] + "'>" + result["results"][i]["author"] + "</a></span> <br/></div>";
                    }
                }
            });
            $( "#search" ).autocomplete( "close" );
            return false;
        });

        // Handle next/prev page
        $(".action-btn").click(function() {
            $("#cssload-pgloading").css("display", "block");
            if ($(this).attr("id") == "next")
                pg += 1;
            else pg -= 1;
            $.ajax({
                url: "https://api.asksteem.com/search?q=" + $('#search').val() + "&pg=" + pg,
                success: function(result) {
                    $("#cssload-pgloading").css("display", "none");
                    $('[id="prev"]').attr("disabled", !result["pages"]["has_previous"]);
                    $('[id="next"]').attr("disabled", !result["pages"]["has_next"]);
                    var results = document.getElementById("results");
                    results.innerHTML = "";
                    for (var i = 0; i < result["results"].length; i++) {
                        results.innerHTML += "<div id='item'> <span style='font-size:1.3em;'><a href='https://steemit.com/@" + result["results"][i]["author"] + "/" + result["results"][i]["permlink"] + "'>" + result["results"][i]["title"] + "</a></span><br/> <span style='color:#016c01;'>https://steemit.com/@" + result["results"][i]["author"] + "/" + result["results"][i]["permlink"] + "</span> <br/> <span>" + result["results"][i]["summary"] + "</span> <br/> <span><i class='fa fa-chevron-circle-up' aria-hidden='true'></i> " + result["results"][i]["net_votes"] + " Votes</span> | <span><i class='fa fa-comments' aria-hidden='true'></i> " + result["results"][i]["children"] + " Comments</span> | <span><i class='fa fa-user' aria-hidden='true'></i> by <a href='https://steemit.com/@" + result["results"][i]["author"] + "'>" + result["results"][i]["author"] + "</a></span> <br/></div>";
                    }
                }
            });
        });
        // Search Auto complete
        $( "#search" ).autocomplete({
          source: "https://api.asksteem.com/suggestions",
          appendTo: ".form-group"
        });
    </script>
</body>

</html>
